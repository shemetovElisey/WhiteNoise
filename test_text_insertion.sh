#!/bin/bash

# –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞
echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞..."
echo "=================================="

# –¢–µ—Å—Ç 1: –ü—Ä–æ—Å—Ç–∞—è –≤—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ AppleScript
echo "üìù –¢–µ—Å—Ç 1: –ü—Ä–æ—Å—Ç–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞..."
osascript -e 'tell application "System Events" to keystroke "Hello World Test"'

if [ $? -eq 0 ]; then
    echo "‚úÖ –¢–µ—Å—Ç 1 –ø—Ä–æ–π–¥–µ–Ω: —Ç–µ–∫—Å—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"
else
    echo "‚ùå –¢–µ—Å—Ç 1 –ø—Ä–æ–≤–∞–ª–µ–Ω: –æ—à–∏–±–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞"
fi

echo ""

# –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
echo "üîê –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞..."
osascript -e 'tell application "System Events" to return "permissions_ok"'

if [ $? -eq 0 ]; then
    echo "‚úÖ –¢–µ—Å—Ç 2 –ø—Ä–æ–π–¥–µ–Ω: –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –µ—Å—Ç—å"
else
    echo "‚ùå –¢–µ—Å—Ç 2 –ø—Ä–æ–≤–∞–ª–µ–Ω: –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞"
fi

echo ""

# –¢–µ—Å—Ç 3: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
echo "üìã –¢–µ—Å—Ç 3: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞..."
echo "Test clipboard content" | pbcopy

if [ $? -eq 0 ]; then
    echo "‚úÖ –¢–µ—Å—Ç 3 –ø—Ä–æ–π–¥–µ–Ω: —Ç–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞"
    echo "üìÑ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É—Ñ–µ—Ä–∞: $(pbpaste)"
else
    echo "‚ùå –¢–µ—Å—Ç 3 –ø—Ä–æ–≤–∞–ª–µ–Ω: –æ—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è"
fi

echo ""
echo "üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:"
echo "   - –ï—Å–ª–∏ —Ç–µ—Å—Ç 1 –ø—Ä–æ–≤–∞–ª–µ–Ω, –Ω–æ —Ç–µ—Å—Ç 3 –ø—Ä–æ–π–¥–µ–Ω: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cmd+V –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏"
echo "   - –ï—Å–ª–∏ —Ç–µ—Å—Ç 2 –ø—Ä–æ–≤–∞–ª–µ–Ω: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ –°–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö"
echo "   - –ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å" 