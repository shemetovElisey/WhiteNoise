# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —à–æ—Ä—Ç–∫–∞—Ç–∞–º–∏ WhiteNoise

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
–®–æ—Ä—Ç–∫–∞—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WhiteNoise –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –∏–∑-–∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤:

1. **Sandbox –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∏ —Å–æ–±—ã—Ç–∏–π –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ sandbox —Ä–µ–∂–∏–º–µ
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** - –Ω–µ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–æ—Ä—Ç–∫–∞—Ç–æ–≤
3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∏–º–µ–ª–æ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —à–æ—Ä—Ç–∫–∞—Ç–æ–≤

–î–æ–±–∞–≤–ª–µ–Ω—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–æ—Ä—Ç–∫–∞—Ç–æ–≤:

```swift
func registerGlobalShortcut() {
    // –õ–æ–∫–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ sandbox)
    registerLocalShortcut()
    
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ sandbox)
    globalMonitor = NSEvent.addGlobalMonitorForEvents(matching: .keyDown) { ... }
    
    // Carbon Hot Keys (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)
    registerCarbonHotKey()
    setupCarbonEventHandler()
}
```

### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

- **–ú–µ–Ω—é –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ —à–æ—Ä—Ç–∫–∞—Ç—ã** - —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
- **Carbon Hot Keys** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ —à–æ—Ä—Ç–∫–∞—Ç—ã
- **–ö–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ** - –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —à–æ—Ä—Ç–∫–∞—Ç–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- Fallback –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã

### 4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–æ—Ä—Ç–∫–∞—Ç–æ–≤

## üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —à–æ—Ä—Ç–∫–∞—Ç—ã:
- **Cmd+Shift+V** - –ì–ª–æ–±–∞–ª—å–Ω—ã–π —à–æ—Ä—Ç–∫–∞—Ç (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- **Cmd+Shift+V** - –õ–æ–∫–∞–ª—å–Ω—ã–π —à–æ—Ä—Ç–∫–∞—Ç (–∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ)
- **R** - –ó–∞–ø–∏—Å—å –∏–∑ –º–µ–Ω—é

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:
- **–ö–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ** –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ú–µ–Ω—é "–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥"** –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üîê –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ > –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å:

1. **–ú–∏–∫—Ä–æ—Ñ–æ–Ω**
   - ‚úÖ WhiteNoise

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º**
   - ‚úÖ WhiteNoise
   - ‚úÖ Terminal (–¥–ª—è osascript)

3. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - ‚úÖ Terminal

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **test_shortcuts.sh** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —à–æ—Ä—Ç–∫–∞—Ç–æ–≤
2. **check_permissions.sh** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
3. **test_text_insertion.sh** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞:
```bash
./test_shortcuts.sh
./check_permissions.sh
./test_text_insertion.sh
```

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ï—Å–ª–∏ —à–æ—Ä—Ç–∫–∞—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   ```bash
   pkill -f WhiteNoise
   open /path/to/WhiteNoise.app
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
   - –î–æ–±–∞–≤—å—Ç–µ WhiteNoise –≤ –Ω—É–∂–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –∏–∫–æ–Ω–∫–µ –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é "–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥"
   - –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å**
   ```bash
   log stream --predicate 'process == "WhiteNoise"' --level debug
   ```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

1. **WhiteNoiseApp.swift**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–æ—Ä—Ç–∫–∞—Ç–æ–≤
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
   - –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

2. **Entitlements**
   - –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
   - Sandbox —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

3. **Info.plist**
   - –û–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- ‚úÖ –®–æ—Ä—Ç–∫–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –º–µ–Ω—é –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ —à–æ—Ä—Ç–∫–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —à–æ—Ä—Ç–∫–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø—Ä–∞–≤
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
- ‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —Å —à–æ—Ä—Ç–∫–∞—Ç–∞–º–∏ —Ä–µ—à–µ–Ω–∞ –ø—É—Ç–µ–º:

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** - –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
2. **–û–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** - graceful fallback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
3. **–£–ª—É—á—à–µ–Ω–Ω–æ–≥–æ UX** - –ø–æ–Ω—è—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
4. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤** - –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ –¥–∞–∂–µ –≤ sandbox —Ä–µ–∂–∏–º–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏. 